<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<head>
    <title>Reference</title>
    <link rel="stylesheet" href="ldoc.css" type="text/css" />
</head>
<body>

<div id="container">

<div id="product">
	<div id="product_logo"></div>
	<div id="product_name"><big><b></b></big></div>
	<div id="product_description"></div>
</div> <!-- id="product" -->


<div id="main">


<!-- Menu -->

<div id="navigation">
<br/>
<h1>ldoc</h1>


<h2>Contents</h2>
<ul>
<li><a href="#Functions">Functions</a></li>
<li><a href="#Metrics">Metrics</a></li>
<li><a href="#Debug">Debug</a></li>
</ul>


<h2>Modules</h2>
<ul class="nowrap">
  <li><strong>bk-tree</strong></li>
</ul>
<h2>Examples</h2>
<ul class="nowrap">
  <li><a href="examples/spelling.lua.html">spelling.lua</a></li>
</ul>
<h2>Repository</h2>
<ul class="$(kind=='Topics' and '' or 'nowrap'">
  <li><a href="https://github.com/profan/lua-bk-tree">GitHub Repository</a></li>
</ul>

</div>

<div id="content">

<h1>Module <code>bk-tree</code></h1>
<p>bk-tree datastructure</p>
<p><a href="http://en.wikipedia.org/wiki/BK-tree">http://en.wikipedia.org/wiki/BK-tree</a></p>
    <h3>Info:</h3>
    <ul>
        <li><strong>Release</strong>: version 1.0.3</li>
        <li><strong>License</strong>: MIT</li>
        <li><strong>Author</strong>: Robin HÃ¼bner
 robinhubner@gmail.com</li>
    </ul>


<h2><a href="#Functions">Functions</a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#bk_tree:new">bk_tree:new ([root_word[, dist_func=levenshtein_dist]])</a></td>
	<td class="summary">Creates a new bk-tree.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#bk_tree:insert">bk_tree:insert (word)</a></td>
	<td class="summary">Inserts word into the tree.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#bk_tree:query">bk_tree:query (word, n)</a></td>
	<td class="summary">Query the tree for matches.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#bk_tree:query_sorted">bk_tree:query_sorted (word, n)</a></td>
	<td class="summary">Queries the the tree for a match, sorts the results.</td>
	</tr>
</table>
<h2><a href="#Metrics">Metrics</a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#bk_tree.levenshtein_dist">bk_tree.levenshtein_dist (s1, s2)</a></td>
	<td class="summary">Levenshtein distance function.</td>
	</tr>
</table>
<h2><a href="#Debug">Debug</a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#bk_tree:debug">bk_tree:debug ()</a></td>
	<td class="summary">Hooks debugging into tree execution.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#bk_tree:print_stats">bk_tree:print_stats ()</a></td>
	<td class="summary">Print execution stats.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#bk_tree:get_stats">bk_tree:get_stats ()</a></td>
	<td class="summary">Fetch execution stats.</td>
	</tr>
</table>

<br/>
<br/>


    <h2 class="section-header "><a name="Functions"></a>Functions</h2>

    <dl class="function">
    <dt>
    <a name = "bk_tree:new"></a>
    <strong>bk_tree:new ([root_word[, dist_func=levenshtein_dist]])</strong>
    </dt>
    <dd>
    Creates a new bk-tree.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">root_word</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         the root of the new tree
         (<em>optional</em>)
        </li>
        <li><span class="parameter">dist_func</span>
            <span class="types"><span class="type">function</span></span>
         the distance function used
         (<em>default</em> levenshtein_dist)
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        the new bk-tree instance
    </ol>


    <h3>See also:</h3>
    <ul>
         <a href="index.html#bk_tree.levenshtein_dist">levenshtein_dist</a>
    </ul>

    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">local</span> bktree = <span class="global">require</span> <span class="string">"bk-tree"</span>
<span class="keyword">local</span> tree = bktree:new(<span class="string">"word"</span>)</pre>
    </ul>

</dd>
    <dt>
    <a name = "bk_tree:insert"></a>
    <strong>bk_tree:insert (word)</strong>
    </dt>
    <dd>
    Inserts word into the tree.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">word</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>

        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">bool</span></span>
        true if inserted, false if word already exists in tree
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">local</span> bktree = <span class="global">require</span> <span class="string">"bk-tree"</span>
<span class="keyword">local</span> tree = bktree:new(<span class="string">"root"</span>)
<span class="keyword">local</span> success = tree:insert(<span class="string">"other_word"</span>)</pre>
    </ul>

</dd>
    <dt>
    <a name = "bk_tree:query"></a>
    <strong>bk_tree:query (word, n)</strong>
    </dt>
    <dd>
    Query the tree for matches.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">word</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>

        </li>
        <li><span class="parameter">n</span>
            <span class="types"><span class="type">number</span></span>
         max edit distance to use when querying
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">{{str=string,distance=number},....}</span></span>
        table of tables with matching words, empty table if no matches
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">local</span> bktree = <span class="global">require</span> <span class="string">"bk-tree"</span>
<span class="keyword">local</span> tree = bktree:new(<span class="string">"word"</span>)
tree:insert(<span class="string">"hello"</span>)
tree:insert(<span class="string">"goodbye"</span>)
tree:insert(<span class="string">"woop"</span>)
<span class="keyword">local</span> result = tree:query(<span class="string">"woop"</span>, <span class="number">1</span>)</pre>
    </ul>

</dd>
    <dt>
    <a name = "bk_tree:query_sorted"></a>
    <strong>bk_tree:query_sorted (word, n)</strong>
    </dt>
    <dd>
    Queries the the tree for a match, sorts the results.
 Calls <a href="index.html#bk_tree:query">query</a> and returns the results sorted.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">word</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>

        </li>
        <li><span class="parameter">n</span>
            <span class="types"><span class="type">number</span></span>
         max edit distance to use when querying
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">{{str=string,distance=number},....}</span></span>
        table of tables with matching words sorted by distance, empty table if no matches
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">local</span> bktree = <span class="global">require</span> <span class="string">"bk-tree"</span>
<span class="keyword">local</span> tree = bktree:new(<span class="string">"word"</span>)
tree:insert(<span class="string">"woop"</span>)
tree:insert(<span class="string">"worp"</span>)
tree:insert(<span class="string">"warp"</span>)
<span class="keyword">local</span> result = tree:query_sorted(<span class="string">"woop"</span>, <span class="number">3</span>)</pre>
    </ul>

</dd>
</dl>
    <h2 class="section-header "><a name="Metrics"></a>Metrics</h2>

    <dl class="function">
    <dt>
    <a name = "bk_tree.levenshtein_dist"></a>
    <strong>bk_tree.levenshtein_dist (s1, s2)</strong>
    </dt>
    <dd>
    Levenshtein distance function.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">s1</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>

        </li>
        <li><span class="parameter">s2</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>

        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">number</span></span>
        the levenshtein distance
    </ol>




</dd>
</dl>
    <h2 class="section-header "><a name="Debug"></a>Debug</h2>

    <dl class="function">
    <dt>
    <a name = "bk_tree:debug"></a>
    <strong>bk_tree:debug ()</strong>
    </dt>
    <dd>
    Hooks debugging into tree execution.
 Keeps track of number of nodes created, queries made,
 note that this must be run directly after tree is created
 in order to get correct information.






    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">local</span> bktree = <span class="global">require</span> <span class="string">"bk-tree"</span>
<span class="keyword">local</span> tree = bktree:new(<span class="string">"word"</span>)
tree:<span class="global">debug</span>()
tree:insert(<span class="string">"perceive"</span>)
tree:insert(<span class="string">"beautiful"</span>)
tree:insert(<span class="string">"definitely"</span>)
<span class="keyword">local</span> result = tree:query(<span class="string">"definately"</span>, <span class="number">3</span>)
tree:print_stats()

<span class="comment">-- output
</span>Nodes: <span class="number">4</span>
Queries: <span class="number">3</span>
Nodes Queried: <span class="number">75</span>%</pre>
    </ul>

</dd>
    <dt>
    <a name = "bk_tree:print_stats"></a>
    <strong>bk_tree:print_stats ()</strong>
    </dt>
    <dd>
    Print execution stats.
 Prints nodes queried and total nodes, as well as a fraction of
 nodes visited to satisfy the query, resets the counter of nodes queried when called.





    <h3>See also:</h3>
    <ul>
         <a href="index.html#bk_tree:debug">debug</a>
    </ul>


</dd>
    <dt>
    <a name = "bk_tree:get_stats"></a>
    <strong>bk_tree:get_stats ()</strong>
    </dt>
    <dd>
    Fetch execution stats.
 Returns a copy of the execution stats that <a href="index.html#bk_tree:print_stats">print_stats</a> would print, requires debug to have been enabled
 to not just return defaults. Useful if you want to profile things.



    <h3>Returns:</h3>
    <ol>

        {key = value,...}
    </ol>




</dd>
</dl>


</div> <!-- id="content" -->
</div> <!-- id="main" -->
<div id="about">
<i>generated by <a href="http://github.com/stevedonovan/LDoc">LDoc 1.4.6</a></i>
<i style="float:right;">Last updated 2022-02-22 17:51:40 </i>
</div> <!-- id="about" -->
</div> <!-- id="container" -->
</body>
</html>
